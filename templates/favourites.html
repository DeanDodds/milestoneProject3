{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col s12 m8 offset-m2">
        <h1>{{ username }}</h1>
    </div>
</div>

<nav class="nav-extended center">
    <div class="nav-content col s-12">
        <ul class="tabs tabs-transparent">
            <li class="tab"><a href="{{ url_for('profile', username=session['user']) }}">My Recipes</a>
            </li>
            <li class="tab"><a href="{{ url_for('addrecipe') }}">Add Recipes</a></li>
            <li class="tab"><a class="active" href="{{ url_for('favourites') }}">My Favourites</a></li>
        </ul>
    </div>
</nav>

<section>
    <div class="row">
        {% for recipe in recipes %}
        {% if recipe._id in favourites %}
        <div class="col s12 m6 l4">
            <div class="card">
                <div class="card-image">
                    <img class="card-image" src="{{ recipe.img_url}}">
                    <a href="{{ url_for( 'remove_from_favourites', recipe_id=recipe._id, page='favourites_page') }}"
                        class="btn halfway-fab right liked
                        waves-effect waves-light"><i class="fa-solid fa-heart"></i></a>
                    <i class="fa-solid fa-trash"></i></a>
                </div>
                <div class="card-content">
                    <span class="card-title">
                        {{ recipe.recipe_name }}
                    </span>
                    <p>{{ recipe.description }}</p>
                    <span>
                        <p>Rating: {{ recipe.rating }}</p>
                        {% if recipe.rating | int >= 1 %}
                        <span class="fa fa-star checked"></span>
                        {% else %}
                        <span class="fa fa-star"></span>
                        {% endif %}
                        {% if recipe.rating | int >= 2 %}
                        <span class="fa fa-star checked"></span>
                        {% else %}
                        <span class="fa fa-star"></span>
                        {% endif %}
                        {% if recipe.rating | int >= 3 %}
                        <span class="fa fa-star checked"></span>
                        {% else %}
                        <span class="fa fa-star"></span>
                        {% endif %}
                        {% if recipe.rating | int >= 4 %}
                        <span class="fa fa-star checked"></span>
                        {% else %}
                        <span class="fa fa-star"></span>
                        {% endif %}
                        {% if recipe.rating | int >= 5 %}
                        <span class="fa fa-star checked"></span>
                        {% else %}
                        <span class="fa fa-star"></span>
                        {% endif %}
                    </span>
                    <div>
                        <p>created by: {{ recipe.author }}</p>
                    </div>
                    <div>
                        <a class="waves-effect waves-light btn">Button</a>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>

</section>

{% endblock %}