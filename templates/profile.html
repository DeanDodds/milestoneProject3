{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col s12 m8 offset-m2">
        <h1>{{ username }}</h1>
    </div>
</div>

<nav class="nav-extended center">
    <div class="nav-content col s-12">
        <ul class="tabs tabs-transparent">
            <li class="tab"><a class="active" href="{{ url_for('profile', username=session['user']) }}">My Recipes</a>
            </li>
            <li class="tab"><a href="{{ url_for('addrecipe') }}">Add Recipes</a></li>
            <li class="tab"><a href="{{ url_for('favourites') }}">My Favourites</a></li>
        </ul>
    </div>
</nav>

<section>
    <div>
        <div class="row">
            <div class="col s12 m6 l4">
                <a href="{{ url_for('addrecipe',) }}">
                    <div class="card">
                        <div class="card-content center-align">
                            <i class="fa-solid fa-circle-plus"></i>
                            <h2>Create new recipe</h2>
                        </div>
                    </div>
                </a>
            </div>

            {% for recipe in recipes %}
            {% if session.user == recipe.author %}
            <div class="col s12 m6 l4">
                <div class="card">
                    <div class="card-image">
                        <img class="card-image" src="{{ recipe.img_url }}">
                        <a href="{{ url_for( 'add_favourites', recipe_id=recipe._id) }}" class="btn halfway-fab right
                            waves-effect waves-light red"><i class="fa-solid fa-heart"></i></a>
                        <a href="{{ url_for( 'editrecipe', recipe_id=recipe._id) }}"
                            class="btn halfway-fab right waves-effect waves-light red"><i
                                class="fa-solid fa-pen-to-square"></i></a>
                        <a href="{{ url_for( 'delete_recipe', recipe_id=recipe._id) }}"
                            class="btn halfway-fab right waves-effect waves-light red">
                            <i class="fa-solid fa-trash"></i>
                        </a>
                    </div>
                    <div class="card-content">
                        <span class="card-title">{{ recipe.recipe_name }}</span>
                        <p>{{ recipe.description }}</p>
                        <span>
                            <p>Rating: {{ recipe.rating }}</p>
                        </span>
                        <a class="waves-effect waves-light btn">Button</a>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}